{
  "title": "Factrography",
  "description": "Schema for factrography test data",
  "type": "object",
  "properties": {
    "igsn": {
      "type": "string",
      "title": "IGSN",
      "description": "Lookup for the IGSN of the sample",
      "format": "autocomplete",
      "options": {
        "grid_columns": 12,
        "autocomplete": {
          "search": "search_deposition",
          "renderResult": "render_deposition",
          "getResultValue": "get_deposition_value",
          "autoSelect": true,
          "debounceTime": 500
        }
      },
      "propertyOrder": 0
    },
    "Build_ID": {
      "type": "string",
      "title": "Build ID",
      "description": "Unique identifier for the build",
      "propertyOrder": 1,
      "options": {
        "grid_columns": 12
      }
    },
    "tests": {
      "type": "array",
      "title": "Tests",
      "id": "tests",
      "description": "List of test results",
      "format": "tabs",
      "propertyOrder": 2,
      "items": {
        "type": "object",
        "format": "grid-strict",
        "properties": {
          "Test_number": {
            "type": "string",
            "title": "Test Number",
            "propertyOrder": 0,
            "options": {
              "grid_columns": 4
            }
          },
          "Retest": {
            "type": "string",
            "title": "Retest",
            "propertyOrder": 1,
            "options": {
              "grid_columns": 4
            }
          },
          "Initiation_Defect": {
            "type": "string",
            "title": "Initiation Defect",
            "propertyOrder": 2,
            "options": {
              "grid_columns": 4
            }
          },
          "Defect_Type": {
            "type": "string",
            "title": "Defect Type",
            "enum": [
              "LOF",
              "Keyhole",
              "Gas_Pore",
              ""
            ],
            "propertyOrder": 3,
            "options": {
              "grid_columns": 4
            }
          },
          "Fatigue_Tensile": {
            "type": "string",
            "title": "Fatigue Tensile",
            "enum": [
              "fatigue",
              ""
            ],
            "propertyOrder": 4,
            "options": {
              "grid_columns": 4
            }
          },
          "Initiated_at_Chamfer": {
            "type": "boolean",
            "title": "Initiated at Chamfer",
            "propertyOrder": 5,
            "options": {
              "grid_columns": 4
            }
          },
          "Surface_Subsurface": {
            "type": "string",
            "title": "Surface/Subsurface",
            "enum": [
              "subsurface",
              "Surface",
              ""
            ],
            "propertyOrder": 6,
            "options": {
              "grid_columns": 4
            }
          },
          "area": {
            "type": "number",
            "title": "Area",
            "propertyOrder": 7,
            "options": {
              "grid_columns": 4
            }
          },
          "x": {
            "type": "number",
            "title": "X coordinate",
            "propertyOrder": 8,
            "options": {
              "grid_columns": 4
            }
          },
          "y": {
            "type": "number",
            "title": "Y coordinate",
            "propertyOrder": 9,
            "options": {
              "grid_columns": 4
            }
          },
          "perimeter": {
            "type": "number",
            "title": "Perimeter",
            "propertyOrder": 10,
            "options": {
              "grid_columns": 4
            }
          },
          "circ": {
            "type": "number",
            "title": "Circularity",
            "propertyOrder": 11,
            "options": {
              "grid_columns": 4
            }
          },
          "feret": {
            "type": "number",
            "title": "Feret",
            "propertyOrder": 12,
            "options": {
              "grid_columns": 4
            }
          },
          "feretX": {
            "type": "number",
            "title": "Feret X",
            "propertyOrder": 13,
            "options": {
              "grid_columns": 4
            }
          },
          "feretY": {
            "type": "number",
            "title": "Feret Y",
            "propertyOrder": 14,
            "options": {
              "grid_columns": 4
            }
          },
          "feretAngle": {
            "type": "number",
            "title": "Feret Angle",
            "propertyOrder": 15,
            "options": {
              "grid_columns": 4
            }
          },
          "minFeret": {
            "type": "number",
            "title": "Min Feret",
            "propertyOrder": 16,
            "options": {
              "grid_columns": 4
            }
          },
          "aspRatio": {
            "type": "number",
            "title": "Aspect Ratio",
            "propertyOrder": 17,
            "options": {
              "grid_columns": 4
            }
          },
          "roundness": {
            "type": "number",
            "title": "Roundness",
            "propertyOrder": 18,
            "options": {
              "grid_columns": 4
            }
          },
          "convexity": {
            "type": "number",
            "title": "Convexity",
            "propertyOrder": 19,
            "options": {
              "grid_columns": 4
            }
          },
          "rootArea": {
            "type": "number",
            "title": "Root Area",
            "readOnly": true,
            "template": "{{sqrt area}}",
            "watch": {
              "area": "tests.area"
            },
            "propertyOrder": 20,
            "options": {
              "grid_columns": 4
            }
          },
          "equidiameter": {
            "type": "number",
            "title": "Equidiameter",
            "readOnly": true,
            "template": "{{equidiameter area}}",
            "watch": {
              "area": "tests.area"
            },
            "propertyOrder": 21,
            "options": {
              "grid_columns": 4
            }
          }
        }
      }
    }
  }
}
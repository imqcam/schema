{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Unified Build Importer Schema",
  "type": "object",
  "properties": {
    "Build": {
      "type": "object",
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "EOS_Job_File": { "type": "string" },
        "Build_Report_File": { "type": "string" },
        "Feedstock_Workbook": { "type": "string" },
        "Meltpool_Data": { "type": "string" },
        "OT_Data": { "type": "string" },
        "Location": { "type": "string" },
        "Brand_Model": { "type": "string" },
        "Serial_Number": { "type": "string" },
        "Build_Time_Est": { "type": "string" },
        "Build_Time": { "type": "string" },
        "Start_Date": { "type": "string", "format": "date" },
        "End_Date": { "type": "string", "format": "date" },
        "Nozzle_Type": { "type": "string" },
        "Max_Level_O2": { "type": "number" },
        "Chamber_Pressure": { "type": "number" },
        "Cover_Gas_Velocity": { "type": "number" },
        "Build_Plate_Thickness": { "type": "number" },
        "Build_Plate_Material": { "type": "string" },
        "Bed_Preheat": { "type": "number" },
        "Rake_Blade_Material": { "type": "string" },
        "Deposition_Velocity": { "type": "number" },
        "Dosing": { "type": "string" },
        "Min_Dose": { "type": "number" },
        "Max_Dose": { "type": "number" },
        "Min_Layer_Time": { "type": "number" },
        "Move_to_Dosage_Position": { "type": "boolean" },
        "Layer_Thickness": { "type": "number" },
        "Build_Plate_Separation": { "type": "number" },
        "Notes": { "type": "string" },
        "Granta_Record_Name": { "type": "string" },
        "Granta_Record_Short_Name": { "type": "string" }
      }
    },
    "Part": {
      "type": "object",
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "Scan_Order": { "type": "integer" },
        "Plate_Location": { "type": "string" },
        "Global_Offset": { "type": "string" },
        "Offset_Angle": { "type": "number" },
        "Rotation_Angle": { "type": "number" },
        "Restriction_Angle": { "type": "number" },
        "Skip": { "type": "boolean" },
        "Hatch_Offset": { "type": "number" },
        "Overlap_with_Infill": { "type": "number" },
        "Min_Vector_Length": { "type": "number" },
        "Note": { "type": "string" },
        "CAD_File": { "type": "string" },
        "Job_File": { "type": "string" },
        "Granta_Record_Name": { "type": "string" }
      }
    },
    "Infill_Stripes": {
      "type": "object",
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "Skywriting": { "type": "string" },
        "Flow_Optimization": { "type": "boolean" },
        "Shifted": { "type": "boolean" },
        "Exposure_Mode": { "type": "string" },
        "Power_Reduction_Factor": { "type": "number" },
        "Time_Homogenization": { "type": "boolean" },
        "Stripe_Width": { "type": "number" },
        "Overlap_Stripes": { "type": "number" },
        "Power": { "type": "number" },
        "Hatch_Spacing": { "type": "number" },
        "Scan_Speed": { "type": "number" },
        "General": { "type": "string" },
        "Granta_Record_Name": { "type": "string" }
      }
    },
    "Upskin": {
      "type": "object",
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "Hatch_Sorting": { "type": "string" },
        "Skywriting": { "type": "string" },
        "Exposure_Mode": { "type": "string" },
        "Upskin_Thickness": { "type": "number" },
        "Upskin_Ridge": { "type": "number" },
        "Power": { "type": "number" },
        "Hatch_Spacing": { "type": "number" },
        "Scan_Speed": { "type": "number" },
        "General": { "type": "string" }
      }
    },
    "Downskin": {
      "type": "object",
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "Hatch_Sorting": { "type": "string" },
        "Skywriting": { "type": "string" },
        "Exposure_Mode": { "type": "string" },
        "Downskin_Thickness": { "type": "number" },
        "Upskin_Ridge": { "type": "number" },
        "Power": { "type": "number" },
        "Hatch_Spacing": { "type": "number" },
        "Scan_Speed": { "type": "number" },
        "General": { "type": "string" }
      }
    },
    "Contour": {
      "type": "object",
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "Contour_Number": { "type": "integer" },
        "Contour_Offset": { "type": "number" },
        "Thickness": { "type": "number" },
        "Corridor": { "type": "number" },
        "Power_1": { "type": "number" },
        "Speed_1": { "type": "number" },
        "Power_2": { "type": "number" },
        "Speed_2": { "type": "number" },
        "Power_3": { "type": "number" },
        "Speed_3": { "type": "number" }
      }
    },
    "Edge": {
      "type": "object",
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "Edge_Offset": { "type": "number" },
        "Edge_Factor": { "type": "number" },
        "Threshold": { "type": "number" },
        "Min_Radius_Factor": { "type": "number" },
        "Power": { "type": "number" },
        "Speed": { "type": "number" }
      }
    },
    "Support_Bulk": {
      "type": "object",
      "required": ["Files"],
      "properties": {
        "UID": { "type": "string" },
        "FID": { "type": "string" },
        "Files": {
          "type": "array",
          "items": { "$ref": "#/definitions/fileUpload" },
          "description": "Bulk upload multiple files"
        },
        "Overlap_in_Part": { "type": "number" },
        "Rotation": { "type": "number" },
        "Skip": { "type": "boolean" },
        "Power": { "type": "number" },
        "Hatch": { "type": "number" },
        "Speed": { "type": "number" },
        "Notes": { "type": "string" },
        "Support": { "type": "string" }
      }
    }
  },
  "definitions": {
    "fileUpload": {
      "title": "File",
      "type": "object",
      "properties": {
        "file": {
          "title": "Upload file",
          "type": "string",
          "format": "data-url",
          "description": "Select a file to upload"
        },
        "button": {
          "title": "Browse",
          "format": "button",
          "options": {
            "button": {
              "action": "button1CB",
              "uploadFor": "file"
            }
          }
        }
      },
      "required": ["file"]
    }
  }
}

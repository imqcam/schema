{
  "title": "Factrography",
  "description": "Schema for factrography test data",
  "type": "object",
  "properties": {
    "igsn": {
      "type": "string",
      "title": "IGSN",
      "description": "Lookup for the IGSN of the sample",
      "format": "autocomplete",
      "options": {
        "autocomplete": {
          "search": "search_deposition",
          "renderResult": "render_deposition",
          "getResultValue": "get_deposition_value",
          "autoSelect": true,
          "debounceTime": 500
        },
        "grid_columns": 12
      },
      "propertyOrder": 0
    },
    "Build_ID": {
      "type": "string",
      "title": "Build ID",
      "description": "Unique identifier for the build",
      "propertyOrder": 1,
      "options": { "grid_columns": 6 }
    },
    "tests": {
      "type": "array",
      "title": "Tests",
      "description": "List of test results",
      "format": "tabs",
      "propertyOrder": 2,
      "items": {
        "type": "object",
        "options": { "fields_layout": "grid" },
        "properties": {
          "Test_number": {
            "type": "string",
            "title": "Test Number",
            "description": "Test ID",
            "propertyOrder": 0,
            "options": { "grid_columns": 4 }
          },
          "Retest": {
            "type": "string",
            "title": "Retest",
            "description": "Retest info",
            "propertyOrder": 1,
            "options": { "grid_columns": 4 }
          },
          "Initiation_Defect": {
            "type": "string",
            "title": "Initiation Defect",
            "description": "Defect at initiation",
            "propertyOrder": 2,
            "options": { "grid_columns": 4 }
          },
          "Defect_Type": {
            "type": "string",
            "title": "Defect Type",
            "description": "Type of defect",
            "enum": ["LOF", "Keyhole", "gas_pore", " "],
            "propertyOrder": 3,
            "options": { "grid_columns": 4 }
          },
          "Fatigue_Tensile": {
            "type": "string",
            "title": "Fatigue Tensile",
            "description": "Fatigue or empty",
            "enum": ["fatigue", " "],
            "propertyOrder": 4,
            "options": { "grid_columns": 4 }
          },
          "Initiated_at_Chamfer": {
            "type": "boolean",
            "title": "Initiated at Chamfer",
            "description": "True if defect at chamfer",
            "propertyOrder": 5,
            "options": { "grid_columns": 4 }
          },
          "Surface_Subsurface": {
            "type": "string",
            "title": "Surface/Subsurface",
            "description": "Surface or subsurface",
            "propertyOrder": 6,
            "options": { "grid_columns": 4 }
          },
          "area": {
            "type": "number",
            "title": "Area",
            "description": "Defect area",
            "propertyOrder": 7,
            "options": { "grid_columns": 4 }
          },
          "x": {
            "type": "number",
            "title": "X coordinate",
            "description": "X position",
            "propertyOrder": 8,
            "options": { "grid_columns": 4 }
          },
          "y": {
            "type": "number",
            "title": "Y coordinate",
            "description": "Y position",
            "propertyOrder": 9,
            "options": { "grid_columns": 4 }
          },
          "perimeter": {
            "type": "number",
            "title": "Perimeter",
            "description": "Defect perimeter",
            "propertyOrder": 10,
            "options": { "grid_columns": 4 }
          },
          "circ": {
            "type": "number",
            "title": "Circularity",
            "description": "How circular it is",
            "propertyOrder": 11,
            "options": { "grid_columns": 4 }
          },
          "feret": {
            "type": "number",
            "title": "Feret",
            "description": "Max Feret diameter",
            "propertyOrder": 12,
            "options": { "grid_columns": 4 }
          },
          "feretX": {
            "type": "number",
            "title": "Feret X",
            "description": "X for Feret",
            "propertyOrder": 13,
            "options": { "grid_columns": 4 }
          },
          "feretY": {
            "type": "number",
            "title": "Feret Y",
            "description": "Y for Feret",
            "propertyOrder": 14,
            "options": { "grid_columns": 4 }
          },
          "feretAngle": {
            "type": "number",
            "title": "Feret Angle",
            "description": "Feret angle",
            "propertyOrder": 15,
            "options": { "grid_columns": 4 }
          },
          "minFeret": {
            "type": "number",
            "title": "Min Feret",
            "description": "Min Feret diameter",
            "propertyOrder": 16,
            "options": { "grid_columns": 4 }
          },
          "aspRatio": {
            "type": "number",
            "title": "Aspect Ratio",
            "description": "Width to height ratio",
            "propertyOrder": 17,
            "options": { "grid_columns": 4 }
          },
          "roundness": {
            "type": "number",
            "title": "Roundness",
            "description": "Roundness value",
            "propertyOrder": 18,
            "options": { "grid_columns": 4 }
          },
          "convexity": {
            "type": "number",
            "title": "Convexity",
            "description": "Convexity value",
            "propertyOrder": 19,
            "options": { "grid_columns": 4 }
          },
          "rootArea": {
            "type": "number",
            "title": "Root Area",
            "description": "sqrt(area)",
            "readOnly": true,
            "x-formula": "sqrt(area)",
            "template": "{{sqrt area}}",
            "watch": { "area": "arr_items.area" },
            "propertyOrder": 20,
            "options": { "grid_columns": 4 }
          },
          "equidiameter": {
            "type": "number",
            "title": "Equidiameter",
            "description": "sqrt((4*area)/Ï€)",
            "readOnly": true,
            "template": "{{equidiameter area}}",
            "watch": { "area": "arr_items.area" },
            "propertyOrder": 21,
            "options": { "grid_columns": 4 }
          }
        }
      }
    }
  }
}
